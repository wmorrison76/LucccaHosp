import React from"react";export default class RecoveryGuard extends React.Component{constructor(p){super(p);this.state={hasError:false,error:null}}static getDerivedStateFromError(e){return{hasError:true,error:e}}componentDidCatch(error,info){const detail={error:String(error),stack:String(info?.componentStack||"")};window.dispatchEvent(new CustomEvent("lu:redphoenix:error",{detail}));console.error("[RedPhoenix] UI crash captured",detail)}render(){if(this.state.hasError){return(<div className="p-4 rounded-2xl border border-red-500/30 bg-red-500/5"><div className="font-semibold text-red-300">Panel recovered by RedPhoenix</div><div className="text-xs opacity-80 mt-1">{String(this.state.error)}</div></div>)}return this.props.children}}