import{g as V,u as C,r as s,f as e,N as w}from"./react-D2c-IGkZ.js";import{M as S,B as F}from"./index-UikHyAVh.js";import{I as o}from"./input-Cn0r6mKL.js";import{C as A,a as I,b as P,c as k,d as M}from"./card-BuHw_c-Z.js";import{an as R}from"./icons-ctH1U6L8.js";import"./charts-SLVNgGXJ.js";import"./radix-CrB2S1eo.js";function G(){const u=V(),c=C(),{isAuthenticated:x,signIn:d,loading:i}=S(),[r,h]=s.useState(""),[m,f]=s.useState(""),[t,p]=s.useState(!1),[N,n]=s.useState(null),[l,g]=s.useState("login"),[v,y]=s.useState(""),[E,L]=s.useState("");if(x){const a=c.state?.from?.pathname||"/";return e.jsxDEV(w,{to:a,replace:!0},void 0,!1,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:24,columnNumber:12},this)}const D=s.useCallback(async a=>{a.preventDefault(),n(null),p(!0);try{if(await d(r,m)){const j=c.state?.from?.pathname||"/";u(j)}else n("Invalid credentials. Please try again.")}catch(b){n("An error occurred. Please try again."),console.error(b)}finally{p(!1)}},[r,m,d,u,c]);return e.jsxDEV("div",{className:"min-h-screen bg-gradient-to-b from-slate-950 via-cyan-950 to-slate-950 flex items-center justify-center p-4",children:e.jsxDEV(A,{className:"w-full max-w-md border-cyan-500/25 bg-slate-950/80 backdrop-blur-xl",children:[e.jsxDEV(I,{className:"space-y-2",children:[e.jsxDEV(P,{className:"text-2xl text-cyan-400",children:"Echo Recipe Pro"},void 0,!1,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:55,columnNumber:11},this),e.jsxDEV(k,{children:l==="login"?"Sign in to your account":"Create a new account"},void 0,!1,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:56,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:54,columnNumber:9},this),e.jsxDEV(M,{children:[e.jsxDEV("form",{onSubmit:D,className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"},void 0,!1,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:63,columnNumber:15},this),e.jsxDEV(o,{id:"email",type:"email",placeholder:"you@example.com",value:r,onChange:a=>h(a.target.value),disabled:t||i,className:"border-cyan-500/30 bg-slate-900/70 text-cyan-100 placeholder-cyan-400/50"},void 0,!1,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:66,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:62,columnNumber:13},this),l==="signup"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("label",{htmlFor:"username",className:"text-sm font-medium",children:"Username"},void 0,!1,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:80,columnNumber:19},this),e.jsxDEV(o,{id:"username",type:"text",placeholder:"johndoe",value:v,onChange:a=>y(a.target.value),disabled:t||i,className:"border-cyan-500/30 bg-slate-900/70 text-cyan-100 placeholder-cyan-400/50"},void 0,!1,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:83,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:79,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("label",{htmlFor:"orgName",className:"text-sm font-medium",children:"Organization Name"},void 0,!1,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:95,columnNumber:19},this),e.jsxDEV(o,{id:"orgName",type:"text",placeholder:"My Restaurant",value:E,onChange:a=>L(a.target.value),disabled:t||i,className:"border-cyan-500/30 bg-slate-900/70 text-cyan-100 placeholder-cyan-400/50"},void 0,!1,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:98,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:94,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:78,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"},void 0,!1,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:112,columnNumber:15},this),e.jsxDEV(o,{id:"password",type:"password",placeholder:"••••••••",value:m,onChange:a=>f(a.target.value),disabled:t||i,className:"border-cyan-500/30 bg-slate-900/70 text-cyan-100 placeholder-cyan-400/50"},void 0,!1,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:115,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:111,columnNumber:13},this),N&&e.jsxDEV("div",{className:"text-xs text-red-400 bg-red-950/30 p-2 rounded",children:N},void 0,!1,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:126,columnNumber:23},this),e.jsxDEV(F,{type:"submit",disabled:t||i,className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white",children:t||i?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(R,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:135,columnNumber:19},this),l==="login"?"Signing in...":"Creating account..."]},void 0,!0,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:134,columnNumber:17},this):l==="login"?"Sign In":"Create Account"},void 0,!1,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:128,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:61,columnNumber:11},this),e.jsxDEV("div",{className:"mt-4 text-center text-sm text-cyan-200/60",children:l==="login"?e.jsxDEV(e.Fragment,{children:["Don't have an account?"," ",e.jsxDEV("button",{onClick:()=>{g("signup"),n(null)},className:"text-cyan-400 hover:text-cyan-300 underline",children:"Sign up"},void 0,!1,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:150,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:148,columnNumber:15},this):e.jsxDEV(e.Fragment,{children:["Already have an account?"," ",e.jsxDEV("button",{onClick:()=>{g("login"),n(null)},className:"text-cyan-400 hover:text-cyan-300 underline",children:"Sign in"},void 0,!1,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:163,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:161,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:146,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:60,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:53,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/client/pages/Login.tsx",lineNumber:52,columnNumber:5},this)}export{G as default};
