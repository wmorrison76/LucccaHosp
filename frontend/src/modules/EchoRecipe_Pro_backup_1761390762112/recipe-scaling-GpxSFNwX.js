const b={"¼":"1/4","½":"1/2","¾":"3/4","⅐":"1/7","⅑":"1/9","⅒":"1/10","⅓":"1/3","⅔":"2/3","⅕":"1/5","⅖":"2/5","⅗":"3/5","⅘":"4/5","⅙":"1/6","⅚":"5/6","⅛":"1/8","⅜":"3/8","⅝":"5/8","⅞":"7/8"},l=Object.keys(b).join(""),h=[new RegExp("^[-+]?\\d+\\s+\\d+/\\d+"),new RegExp(`^[-+]?\\d+[${l}]`),new RegExp("^[-+]?\\d+/\\d+"),new RegExp("^[-+]?\\d*\\.\\d+"),new RegExp("^[-+]?\\d+"),new RegExp(`^[${l}]`)],p=e=>e.replace(/[¼½¾⅐⅑⅒⅓⅔⅕⅖⅗⅘⅙⅚⅛⅜⅝⅞]/g,t=>b[t]??t),$=e=>{if(!e)return Number.NaN;let t=String(e).trim();t=p(t),t=t.replace(/(\d)\s*(\d\/\d)/g,"$1 $2");const n=t.match(/^(-?\d+)(?:\s+(\d+\/\d+))?$/);if(n){const i=Number(n[1]);if(n[2]){const[a,s]=n[2].split("/").map(Number);return Number.isFinite(a)&&Number.isFinite(s)&&s!==0?i+a/s:Number.NaN}return i}if(/^-?\d+\/\d+$/.test(t)){const[i,a]=t.split("/").map(Number);return Number.isFinite(i)&&Number.isFinite(a)&&a!==0?i/a:Number.NaN}const r=Number(t.replace(/[^0-9.\-]/g,""));return Number.isFinite(r)?r:Number.NaN},x=e=>{const t=Number(String(e??"").replace(/[$€£¥,\s]/g,"").replace(/,/g,"."));return Number.isFinite(t)?t:Number.NaN},F=e=>{if(typeof e!="string"||!e.trim())return null;const t=e.length-e.trimStart().length,n=e.slice(0,t),r=e.slice(t);for(const i of h){const a=r.match(i);if(!a)continue;const s=a[0],c=r.charAt(s.length);if(c==="-"&&/\d/.test(r.charAt(s.length+1))||c===":")continue;const u=$(s);if(!Number.isFinite(u))continue;const o=r.slice(s.length);return{leading:n,raw:s,remainder:o,value:u}}return null},M=(e,t)=>{let n=Math.abs(e),r=Math.abs(t);for(;r>Number.EPSILON;){const i=r;r=n%r,n=i}return n||1},R=[2,3,4,6,8,10,12,16],A=e=>{if(!Number.isFinite(e))return"";if(Math.abs(e)<1e-9)return"0";const t=e<0?"-":"",n=Math.abs(e),r=Math.round(n);if(Math.abs(n-r)<1e-6)return`${t}${r}`;const i=Math.floor(n+1e-6);let a=n-i,s="";for(const o of R){const d=a*o,m=Math.round(d);if(m!==0&&Math.abs(d-m)<1e-4){const N=M(m,o),f=m/N,g=o/N;s=`${f}/${g}`;break}}if(s)return i===0?`${t}${s}`:`${t}${i} ${s}`;const c=n>=100?1:n>=10?2:3,u=Number(n.toFixed(c));return`${t}${u}`},E=(e,t)=>{if(typeof e!="string"||!Number.isFinite(t)||t<=0||Math.abs(t-1)<1e-9)return e;const n=F(e);if(!n)return e;const r=n.value*t;if(!Number.isFinite(r))return e;const i=A(r);if(!i)return e;const a=n.remainder;return`${n.leading}${i}${a}`},y=(e,t)=>!Array.isArray(e)||Math.abs(t-1)<1e-9?[...e]:e.map(n=>E(n,t)),S=(e,t)=>{if(!Number.isFinite(e)||!Number.isFinite(t)||t<=0)return e;const n=e*t;return Math.min(Math.max(Math.round(n*1e3)/1e3,0),Number.MAX_SAFE_INTEGER)};export{x as a,y as b,S as d,F as e,A as f,$ as p};
