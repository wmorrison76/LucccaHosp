:root {
  /* sensible defaults (light) */
  --bg: hsl(0 0% 100%);
  --text: hsl(222 47% 11%);
  --panel: hsl(0 0% 100% / 0.9);
  --panel-border-color: hsl(214 32% 91%);
  --panel-border-width: 1px;
  --shadow: 0 30px 90px rgba(0,0,0,.18);

  --font-ui: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  --font-title: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;

  /* optional background composer */
  --bg-gradient-angle: 180deg;
  --bg-gradient-a: transparent;
  --bg-gradient-b: transparent;
  --bg-image: none;
}

html.dark {
  --bg: hsl(222 47% 6%);
  --text: hsl(210 40% 98%);
  --panel: hsl(222 47% 8% / 0.9);
  --panel-border-color: rgba(255,255,255,.12);
  --shadow: 0 30px 90px rgba(0,0,0,.55);
}

/* ========== your existing rules below ========== */

html, body {
  background: var(--bg);
  color: var(--text);
  font-family: var(--font-ui);
}

.h-title, h1, h2, h3 { font-family: var(--font-title); }

.sidebar {
  background: var(--sidebar-bg, rgba(15,20,30,.96));
  color: var(--sidebar-text, rgba(230,240,250,.92));
}

.panel {
  background: var(--panel);
  color: var(--text);
  border: var(--panel-border-width) solid var(--panel-border-color);
  box-shadow: var(--shadow);
}

.header-controls button { color: var(--header-text, rgba(240,245,255,.96)); }

input, button, select, textarea { color: var(--text); }
::placeholder { color: color-mix(in srgb, var(--text) 55%, transparent); }

body::before {
  content: "";
  position: fixed; inset: 0; pointer-events: none; z-index: -1;
  background:
    linear-gradient(var(--bg-gradient-angle),
                    var(--bg-gradient-a),
                    var(--bg-gradient-b)),
    var(--bg-image);
  background-size: cover; background-position: center;
  opacity: 1;
}
